syntax = "proto3";

package terrapi.v1.deployment;

option go_package = "github.com/terrapi-solution/protocol/deployment";

service DeploymentService {
  rpc Get(RetrieveRequest) returns (Deployment)  {}
}

message RetrieveRequest {
  int32 id = 1;
}

message Module {
  string name = 1;
  string address = 2;
  string path = 3;
  string username = 4;
  string password = 5;
}

message Request {
  enum Action {
    init = 0;
    plan = 1;
    apply = 2;
    destroy = 3;
  }

  Action action = 1;
  repeated RequestVariable variables = 2;
}

message RequestVariable {
  string name = 1;
  string value = 2;
  bool secret = 3;
}

message Deployment {
  Module module = 1;
  Request request = 2;
}




